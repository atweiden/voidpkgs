maintainer="nox"
pkgname="python3-virtualenv"
version=20.2.1
revision=1
short_desc="Virtual Python environment builder"
depends+=" python3-appdirs"
depends+=" python3-distlib"
depends+=" python3-filelock"
depends+=" python3-setuptools"
depends+=" python3-six"
checkdepends+=" $depends"
checkdepends+=" python3-devel"
checkdepends+=" tox"
hostmakedepends="python3-setuptools_scm"
homepage="https://virtualenv.pypa.io/"
license="MIT"
changelog="https://virtualenv.pypa.io/en/latest/changelog.html"
distfiles="$PYPI_SITE/v/virtualenv/virtualenv-$version.tar.gz"
checksum="e0aac7525e880a429764cefd3aaaff54afb5d9f25c82627563603f5d7de5a6e5"
alternatives="virtualenv:virtualenv:/usr/bin/virtualenv3"
wrksrc="virtualenv-$version"
build_style="python3-module"

do_check() {
  tox -e "py${py3_ver/./}"
}

post_install() {
  mv "$DESTDIR/usr/bin/virtualenv" "$DESTDIR/usr/bin/virtualenv3"
  vlicense LICENSE
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
