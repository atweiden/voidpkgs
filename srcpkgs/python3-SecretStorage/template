maintainer="nox"
pkgname="python3-SecretStorage"
version=3.3.1
revision=3
short_desc="Python3 bindings to FreeDesktop.org Secret Service API"
depends+=" python3-cryptography"
depends+=" python3-jeepney"
#checkdepends+=" $depends"
#checkdepends+=" dbus"
#checkdepends+=" gnome-keyring"
hostmakedepends="python3-setuptools"
homepage="https://github.com/mitya57/secretstorage"
license="BSD-3-Clause"
distfiles="$PYPI_SITE/S/SecretStorage/SecretStorage-$version.tar.gz"
checksum="fd666c51a6bf200643495a04abb261f83229dcb6fd8472ec393df7ffc8b6f195"
build_style="python3-module"
# dbus and gnome-keyring in checkdepends require gui dependencies
make_check="no"

do_check() {
  dbus-run-session -- python3 -m unittest discover -s tests
}

post_install() {
  vlicense LICENSE
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
