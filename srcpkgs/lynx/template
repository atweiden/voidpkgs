maintainer="nox"
pkgname="lynx"
version=2.9.0dev.10
revision=1
short_desc="Text browser for the World Wide Web"
makedepends+=" bzip2-devel"
makedepends+=" libidn-devel"
makedepends+=" ncurses-devel"
makedepends+=" openssl-devel"
makedepends+=" zlib-devel"
hostmakedepends+=" pkg-config"
homepage="http://lynx.invisible-island.net/"
license="GPL-2.0-or-later"
distfiles="http://invisible-mirror.net/archives/lynx/tarballs/$pkgname$version.tar.bz2"
checksum="898ac82bcfcbd4b20ea39afdf66fd659b8773c7549623b0f8802bf392a41a912"
wrksrc="lynx$version"
build_style="gnu-configure"
configure_args+=" --enable-ipv6"
configure_args+=" --enable-locale-charset"
configure_args+=" --enable-nls"
configure_args+=" --enable-underlines"
configure_args+=" --with-bzlib"
configure_args+=" --with-pkg-config"
configure_args+=" --with-screen=ncursesw"
configure_args+=" --with-ssl"
configure_args+=" --with-zlib"

pre_configure() {
  sed \
    -i \
    -e '/LDFLAGS="-L$cf_add_libdir $LDFLAGS"/d' \
    -e 's;,$BUILD_CC;,$CC_FOR_BUILD;' \
    -e 's;,$BUILD_CFLAGS;,$CFLAGS_FOR_BUILD;' \
    -e 's;,$BUILD_LDFLAGS;,$LDFLAGS_FOR_BUILD;' \
    configure
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
