maintainer="nox"
pkgname="git-lfs"
version=2.12.0
revision=1
short_desc="Git extension for versioning large files"
hostmakedepends+=" git"
hostmakedepends+=" ruby-ronn"
homepage="https://git-lfs.github.com/"
license="MIT"
distfiles="https://github.com/git-lfs/git-lfs/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="9971d91cd2b0dd34ccda41a3db97504bfdb4fbc23cc2ee4b6e3b9afea5643941"
build_style="go"
go_import_path="github.com/git-lfs/git-lfs"

export GOFLAGS="-trimpath"

post_build() {
  make man
}

post_install() {
  vlicense LICENSE.md
  vman man/git-lfs-checkout.1
  vman man/git-lfs-clean.1
  vman man/git-lfs-clone.1
  vman man/git-lfs-env.1
  vman man/git-lfs-ext.1
  vman man/git-lfs-fetch.1
  vman man/git-lfs-filter-process.1
  vman man/git-lfs-fsck.1
  vman man/git-lfs-install.1
  vman man/git-lfs-lock.1
  vman man/git-lfs-locks.1
  vman man/git-lfs-logs.1
  vman man/git-lfs-ls-files.1
  vman man/git-lfs-migrate.1
  vman man/git-lfs-pointer.1
  vman man/git-lfs-post-checkout.1
  vman man/git-lfs-post-commit.1
  vman man/git-lfs-post-merge.1
  vman man/git-lfs-pre-push.1
  vman man/git-lfs-prune.1
  vman man/git-lfs-pull.1
  vman man/git-lfs-push.1
  vman man/git-lfs-smudge.1
  vman man/git-lfs-status.1
  vman man/git-lfs-track.1
  vman man/git-lfs-uninstall.1
  vman man/git-lfs-unlock.1
  vman man/git-lfs-untrack.1
  vman man/git-lfs-update.1
  vman man/git-lfs.1
  vman man/git-lfs-config.5
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
