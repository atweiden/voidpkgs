maintainer="nox"
pkgname="python3-drgn"
version=0.0.21
revision=1
short_desc="Scriptable debugger library"
depends="python3"
makedepends+=" elfutils-devel"
makedepends+=" libgomp-devel"
makedepends+=" libkdumpfile-devel"
makedepends+=" python3-devel"
hostmakedepends+=" automake"
hostmakedepends+=" libtool"
hostmakedepends+=" pkg-config"
hostmakedepends+=" python3-setuptools"
homepage="https://github.com/osandov/drgn/"
license="GPL-3.0-or-later"
distfiles="https://github.com/osandov/drgn/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="c299de5ee962ad2c0d2e59c9ff239dedd92a4a32b5ca890eb5d5e63da7b01771"
build_style="python3-module"

pre_build() {
  local _flags
  _flags+=" --host=$XBPS_CROSS_TRIPLET"
  _flags+=" --with-libtool-sysroot=$XBPS_CROSS_BASE"
  if [[ -n "$CROSS_BUILD" ]]; then
    export CONFIGURE_FLAGS="$_flags"
  fi
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
