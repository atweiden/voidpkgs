maintainer="nox"
pkgname="python3-drgn"
version=0.0.24
revision=1
short_desc="Scriptable debugger library"
depends="python3"
makedepends+=" elfutils-devel"
makedepends+=" libgomp-devel"
makedepends+=" libkdumpfile-devel"
makedepends+=" python3-devel"
hostmakedepends+=" automake"
hostmakedepends+=" libtool"
hostmakedepends+=" pkg-config"
hostmakedepends+=" python3-setuptools"
homepage="https://github.com/osandov/drgn/"
license="LGPL-2.1-or-later"
distfiles="https://github.com/osandov/drgn/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="f3c82c95ba4694d9d4beff53d96730ec0d71f792319db639385c2f72ff1d9979"
build_style="python3-module"

pre_build() {
  local _flags
  _flags+=" --host=$XBPS_CROSS_TRIPLET"
  _flags+=" --with-libtool-sysroot=$XBPS_CROSS_BASE"
  if [[ -n "$CROSS_BUILD" ]]; then
    export CONFIGURE_FLAGS="$_flags"
  fi
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
