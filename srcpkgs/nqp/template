maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="nqp"
version=2018.06
revision=1
short_desc="A lightweight Perl 6-like environment for virtual machines, with MoarVM support"
depends="MoarVM"
makedepends="MoarVM"
hostmakedepends+=" MoarVM"
hostmakedepends+=" perl"
tags="perl6"
homepage="https://github.com/perl6/nqp"
license="Artistic-2.0"
distfiles="https://rakudo.perl6.org/downloads/$pkgname/$pkgname-$version.tar.gz"
checksum="921b21f6c4eaa84ea334f062cebae634ce1aa3870f2872b3b352007138707861"
build_style="configure"
configure_script="perl Configure.pl"
configure_args+=" --backends=moar"
configure_args+=" --prefix=/usr"
if [[ -n "$CROSS_BUILD" ]]; then
  configure_args+=" --sdkroot=$XBPS_CROSS_BASE"
  configure_args+=" --sysroot=$XBPS_CROSS_BASE"
fi
nocross="yes"
make_check_target="test"

# vim: set filetype=sh foldmethod=marker foldlevel=0:
