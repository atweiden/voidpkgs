maintainer="nox"
pkgname="hatch-vcs"
version=0.2.0
revision=2
short_desc="Hatch plugin for VCS based versioning"
depends+=" hatchling"
depends+=" python3-setuptools_scm"
checkdepends+=" $depends"
checkdepends+=" git"
checkdepends+=" python3-pytest"
hostmakedepends="hatchling"
homepage="https://github.com/ofek/hatch-vcs"
license="MIT"
changelog="https://github.com/ofek/hatch-vcs/raw/master/HISTORY.md"
distfiles="$PYPI_SITE/h/${pkgname/-/_}/${pkgname/-/_}-$version.tar.gz"
checksum="9913d733b34eec9bb0345d0626ca32165a4ad2de15d1ce643c36d09ca908abff"
build_style="python3-pep517"
make_check_pre="env PYTHONPATH=./"
make_check_args+=" --deselect tests/test_build.py::test_basic"
make_check_args+=" --deselect tests/test_build.py::test_write"
make_check_args+=" --deselect tests/test_build.py::test_fallback"

post_install() {
  vlicense LICENSE.txt
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
