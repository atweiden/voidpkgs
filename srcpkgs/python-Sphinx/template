maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="python-Sphinx"
version=1.8.2
revision=1
short_desc="Python2 documentation generator"
noarch="yes"
depends+=" python-Babel"
depends+=" python-Jinja2"
depends+=" python-Pygments"
depends+=" python-alabaster"
depends+=" python-docutils"
depends+=" python-imagesize"
depends+=" python-packaging"
depends+=" python-requests"
depends+=" python-setuptools"
depends+=" python-six"
depends+=" python-snowballstemmer"
depends+=" python-sphinxcontrib-websupport"
depends+=" python-typing"
hostmakedepends+=" python-setuptools"
hostmakedepends+=" python3-setuptools"
homepage="http://sphinx-doc.org/"
license="BSD-2-Clause"
distfiles="$PYPI_SITE/S/Sphinx/${pkgname#*-}-$version.tar.gz"
checksum="120732cbddb1b2364471c3d9f8bfd4b0c5b550862f99a65736c77f970b142aea"
wrksrc="${pkgname#*-}-$version"
build_style="python-module"
pycompile_module="sphinx"
alternatives+=" sphinx:sphinx-apidoc:/usr/bin/sphinx-apidoc2"
alternatives+=" sphinx:sphinx-autogen:/usr/bin/sphinx-autogen2"
alternatives+=" sphinx:sphinx-build:/usr/bin/sphinx-build2"
alternatives+=" sphinx:sphinx-quickstart:/usr/bin/sphinx-quickstart2"

post_install() {
  vlicense LICENSE
}

python3-Sphinx_package() {
  unset alternatives
  unset depends
  alternatives+=" sphinx:sphinx-apidoc:/usr/bin/sphinx-apidoc3"
  alternatives+=" sphinx:sphinx-autogen:/usr/bin/sphinx-autogen3"
  alternatives+=" sphinx:sphinx-build:/usr/bin/sphinx-build3"
  alternatives+=" sphinx:sphinx-quickstart:/usr/bin/sphinx-quickstart3"
  noarch="yes"
  depends+=" python3-Babel"
  depends+=" python3-Jinja2"
  depends+=" python3-Pygments"
  depends+=" python3-alabaster"
  depends+=" python3-docutils"
  depends+=" python3-imagesize"
  depends+=" python3-packaging"
  depends+=" python3-requests"
  depends+=" python3-setuptools"
  depends+=" python3-six"
  depends+=" python3-snowballstemmer"
  depends+=" python3-sphinxcontrib-websupport"
  pycompile_module="sphinx"
  short_desc="${short_desc/Python2/Python3}"
  pkg_install() {
    vmove "usr/bin/sphinx-*3"
    vmove "usr/lib/python3*"
    vlicense LICENSE
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
