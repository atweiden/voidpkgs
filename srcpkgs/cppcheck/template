maintainer="nox"
pkgname="cppcheck"
version=2.8.2
revision=1
short_desc="Static analysis of C/C++ code"
depends="python3"
hostmakedepends+=" docbook-xsl"
hostmakedepends+=" libxslt"
hostmakedepends+=" python3"
hostmakedepends+=" which"
homepage="http://cppcheck.sourceforge.net"
license="GPL-3.0-or-later"
changelog="https://sourceforge.net/p/cppcheck/news/"
distfiles="https://github.com/danmar/cppcheck/archive/$version.tar.gz>$pkgname-$version.tar.gz"
checksum="30ba99ab54089c44b83f02e2453da046a7edff5237950d4a0eb1eba4afcb4f45"
build_style="gnu-makefile"
python_version="3"
make_build_args+=" DB2MAN=/usr/share/xsl/docbook/manpages/docbook.xsl"
make_build_args+=" FILESDIR=/usr/share/cppcheck"
make_build_args+=" MATCHCOMPILER=yes"
make_install_args="$make_build_args"
make_build_target+=" cppcheck"
make_build_target+=" man"

post_install() {
  vman cppcheck.1
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
