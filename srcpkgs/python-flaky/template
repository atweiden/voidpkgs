maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="python-flaky"
version=3.4.0
revision=3
short_desc="Plugin for nose/py.test that automatically reruns flaky tests (Python2)"
noarch="yes"
depends="python"
hostmakedepends+=" python-setuptools"
hostmakedepends+=" python3-setuptools"
homepage="https://github.com/box/flaky"
license="Apache-2.0"
distfiles="$PYPI_SITE/f/flaky/flaky-$version.tar.gz"
checksum="4ad7880aef8c35a34ddb394d4fa33047765bca1e3d67d182bf6eba9c8eabf3a2"
wrksrc="${pkgname/python-//}-$version"
build_style="python-module"
pycompile_module="flaky"

python3-flaky_package() {
  noarch="yes"
  depends="python3"
  pycompile_module="flaky"
  short_desc="${short_desc/Python2/Python3}"
  pkg_install() {
    vmove "usr/lib/python3*"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
