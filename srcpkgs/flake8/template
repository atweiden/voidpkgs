maintainer="nox"
pkgname="flake8"
version=6.1.0
revision=2
short_desc="Modular source code checker: pycodestyle, pyflakes, mccabe"
depends+=" python3-mccabe"
depends+=" python3-pycodestyle"
depends+=" python3-pyflakes"
checkdepends+=" $depends"
checkdepends+=" python3-mock"
checkdepends+=" python3-pytest"
hostmakedepends+=" python3-setuptools"
hostmakedepends+=" python3-wheel"
homepage="https://flake8.pycqa.org/"
license="MIT"
changelog="https://github.com/PyCQA/flake8/raw/main/docs/source/release-notes/$version.rst"
distfiles="https://github.com/PyCQA/flake8/archive/$version.tar.gz>$pkgname-$version.tar.gz"
checksum="bcb01efc0c83d3c9362e200b5359fe22e11b859962dd27e5bebf3ada7620ae2f"
build_style="python3-pep517"
make_check_target="tests/unit"
make_check_args+=" --ignore=tests/unit/plugins/pycodestyle_test.py"
make_check_args+=" --ignore=tests/unit/test_pyflakes_codes.py"

post_install() {
  vlicense LICENSE
}

python3-flake8_package() {
  build_style=meta
  short_desc+=" (transitional dummy package)"
  depends="flake8>=${version}_$revision"
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
