maintainer="nox"
pkgname="mercurial"
version=5.3.1
revision=1
short_desc="Fast, lightweight source control management system"
depends="ca-certificates"
makedepends="python3-devel"
hostmakedepends+=" python3"
hostmakedepends+=" python3-devel"
hostmakedepends+=" python3-setuptools"
homepage="https://www.mercurial-scm.org/"
license="GPL-2.0-or-later"
distfiles="https://www.mercurial-scm.org/release/$pkgname-$version.tar.gz"
checksum="f7c1f96de2199d6b38593ea865f08c0521fbd8e2fd52bd332414bf9fe5bf72d9"
build_style="python3-module"

post_install() {
  for i in doc/*.1 doc/*.8 doc/*.5 ; do
    vman "$i"
  done
  vinstall contrib/bash_completion 644 \
    usr/share/bash-completion/completions/hg
  vinstall contrib/zsh_completion 644 \
    usr/share/zsh/site-functions/_hg
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
