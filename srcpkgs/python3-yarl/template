maintainer="nox"
pkgname="python3-yarl"
version=1.8.1
revision=1
short_desc="Yet another URL library"
depends+=" python3-idna"
depends+=" python3-multidict"
makedepends="python3-devel"
checkdepends+=" python3-idna"
checkdepends+=" python3-multidict"
checkdepends+=" python3-pytest"
hostmakedepends="python3-setuptools"
homepage="https://yarl.readthedocs.io/"
license="Apache-2.0"
distfiles="$PYPI_SITE/y/yarl/yarl-$version.tar.gz"
checksum="af887845b8c2e060eb5605ff72b6f2dd2aab7a761379373fd89d314f4752abbf"
wrksrc="yarl-$version"
build_style="python3-module"
pycompile_module="yarl"

do_check() {
  vsed \
    -i \
    -e '/addopts/d' \
    setup.cfg

  cp -f build/lib.linux-*/yarl/*.so yarl
  python3 -m pytest
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
