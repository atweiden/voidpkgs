maintainer="nox"
pkgname="elixir"
version=1.13.3
revision=1
short_desc="Functional, concurrent, general-purpose programming language"
depends="erlang>=23"
checkdepends="git"
hostmakedepends="erlang"
homepage="http://elixir-lang.org/"
license="Apache-2.0"
changelog="https://github.com/elixir-lang/elixir/raw/v${version%.*}/CHANGELOG.md"
distfiles="https://github.com/elixir-lang/elixir/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="652779f7199f5524e2df1747de0e373d8b9f1d1206df25b2e551cd0ad33f8440"
build_style="gnu-makefile"
make_check_target="test"

do_check() {
  ERL_EPMD_PORT=5369 make "$make_check_target"
  # the elixir test suite starts up epmd and then doesn't kill it again
  # afterwards
  epmd -port 5369 -kill
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
