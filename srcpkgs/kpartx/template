maintainer="nox"
pkgname="kpartx"
version=0.9.4
revision=1
short_desc="Create device maps from partition tables"
makedepends="device-mapper-devel"
homepage="http://christophe.varoqui.free.fr/"
license="GPL-2.0-or-later"
distfiles="https://github.com/opensvc/multipath-tools/archive/$version.tar.gz>$pkgname-$version.tar.gz"
checksum="6ed3cf6e786da20a451d9747cbd4c5817815388b8fc8022d1074b3018479031d"
build_wrksrc="kpartx"
build_style="gnu-makefile"
make_install_args+=" bindir=/usr/bin"
make_install_args+=" libudevdir=/usr/lib/udev"

CFLAGS="-D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -DLIBDM_API_COOKIE -I../libmultipath"
LDFLAGS="-ldevmapper"

do_configure() {
  make -C .. config.mk
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
