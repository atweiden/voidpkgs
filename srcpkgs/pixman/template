maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="pixman"
version=0.36.0
revision=1
short_desc="Library of low-level pixel manipulation routines"
hostmakedepends+=" perl"
hostmakedepends+=" pkg-config"
homepage="http://xorg.freedesktop.org"
license="MIT"
distfiles="$XORG_SITE/lib/$pkgname-$version.tar.bz2"
checksum="fd92c0cc99183977e54a278d7c595ee094a8e75724c03faf3796d1e49f7780dc"
build_style="gnu-configure"
configure_args="--disable-gtk"

pre_configure() {
  case "$XBPS_TARGET_MACHINE" in
    arm*)
      configure_args+=" --disable-arm-iwmmxt"
      configure_args+=" --disable-arm-iwmmxt2"
      ;;
  esac
}

post_install() {
  vlicense COPYING
}

pixman-devel_package() {
  depends="pixman>=${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove usr/lib/pkgconfig
    vmove "usr/lib/*.a"
    vmove "usr/lib/*.so"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
