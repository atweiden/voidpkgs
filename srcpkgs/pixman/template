maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="pixman"
version=0.34.0
revision=2
short_desc="Library of low-level pixel manipulation routines"
hostmakedepends+=" perl"
hostmakedepends+=" pkg-config"
homepage="http://xorg.freedesktop.org"
license="MIT"
distfiles="$XORG_SITE/lib/$pkgname-$version.tar.bz2"
checksum="39ba3438f3d17c464b0cb8be006dacbca0ab5aee97ebde69fec7ecdbf85794a0"
build_style="gnu-configure"
configure_args="--disable-gtk"

pre_configure() {
  case "$XBPS_TARGET_MACHINE" in
    arm*)
      configure_args+=" --disable-arm-iwmmxt"
      configure_args+=" --disable-arm-iwmmxt2"
      ;;
  esac
}

post_install() {
  vlicense COPYING
}

pixman-devel_package() {
  depends="pixman>=${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove usr/lib/pkgconfig
    vmove "usr/lib/*.a"
    vmove "usr/lib/*.so"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0:
