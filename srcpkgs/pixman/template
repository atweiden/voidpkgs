maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="pixman"
version=0.38.0
revision=1
short_desc="Library of low-level pixel manipulation routines"
hostmakedepends+=" perl"
hostmakedepends+=" pkg-config"
homepage="http://xorg.freedesktop.org"
license="MIT"
distfiles="$XORG_SITE/lib/$pkgname-$version.tar.bz2"
checksum="b768e3f7895ddebdc0f07478729d9cec4fe0a9d2201f828c900d67b0e5b436a8"
build_style="gnu-configure"
configure_args="--disable-gtk"

pre_configure() {
  case "$XBPS_TARGET_MACHINE" in
    arm*)
      configure_args+=" --disable-arm-iwmmxt"
      configure_args+=" --disable-arm-iwmmxt2"
      ;;
  esac
}

post_install() {
  vlicense COPYING
}

pixman-devel_package() {
  depends="pixman>=${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove usr/lib/pkgconfig
    vmove "usr/lib/*.a"
    vmove "usr/lib/*.so"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
