maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="libxml2-python"
version=2.9.9
revision=2
short_desc="Library providing XML and HTML support - Python2 bindings"
depends+=" python"
depends+=" python3"
makedepends+=" libxml2-devel"
makedepends+=" python-devel"
makedepends+=" python3-devel"
hostmakedepends+=" python-devel"
hostmakedepends+=" python3-devel"
homepage="http://www.xmlsoft.org/"
license="MIT"
distfiles="http://xmlsoft.org/sources/${pkgname%-python}-$version.tar.gz"
checksum="94fb70890143e3c6549f265cee93ec064c80a84c42ad0f23e85ee1fd6540a871"
wrksrc="${pkgname%-python}-$version"
build_style="python-module"
build_wrksrc="python"

pre_build() {
  sed \
    -i \
    -e "s:/usr/include:$XBPS_CROSS_BASE/usr/include:" \
    setup.py
}

post_install() {
  vlicense ../COPYING
}

libxml2-python3_package() {
  short_desc+="${short_dest/Python2/Python3}"
  pkg_install() {
    vmove "usr/lib/python3*"
    vlicense ../COPYING
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
