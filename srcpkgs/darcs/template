maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="darcs"
version=2.14.1
revision=2
short_desc="Change-focused cross-platform version control system"
makedepends+=" libcurl-devel"
makedepends+=" ncurses-devel"
makedepends+=" zlib-devel"
hostmakedepends="unzip"
homepage="http://darcs.net/"
license="GPL-2.0-or-later"
distfiles="http://hackage.haskell.org/package/$pkgname-$version/$pkgname-$version.tar.gz"
checksum="61ddbc99acaf06df3a114437064e9241e0da467c23d1d3fb520a782eee32cd35"
build_style="haskell-stack"
stackage="lts-12.0"
nopie_files="/usr/bin/darcs"
nocross="yes"

post_install() {
  vinstall contrib/darcs_completion 644 etc/bash_completion.d
  cd .stack-work/dist/*/*/build/darcs
  vman darcs.1
}

# vim: set filetype=sh foldmethod=marker foldlevel=0:
