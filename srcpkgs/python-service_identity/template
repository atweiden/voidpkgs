maintainer="nox"
pkgname="python-service_identity"
version=18.1.0
revision=7
short_desc="Service identity verification for Python (Python2)"
depends+=" python-attrs"
depends+=" python-cryptography"
depends+=" python-ipaddress"
depends+=" python-pyasn1-modules"
hostmakedepends+=" python-setuptools"
hostmakedepends+=" python3-setuptools"
homepage="https://service-identity.readthedocs.org/"
license="MIT"
changelog="https://github.com/pyca/service-identity/raw/main/CHANGELOG.rst"
distfiles="$PYPI_SITE/s/service_identity/service_identity-$version.tar.gz"
checksum="0858a54aabc5b459d1aafa8a518ed2081a285087f349fe3e55197989232e2e2d"
build_style="python-module"
pycompile_module="service_identity"

post_install() {
  vlicense LICENSE
}

python3-service_identity_package() {
  unset depends
  depends+=" python3-attrs"
  depends+=" python3-cryptography"
  depends+=" python3-pyasn1-modules"
  depends+=" python3-six"
  pycompile_module="service_identity"
  short_desc="${short_desc/Python2/Python3}"
  pkg_install() {
    vlicense LICENSE
    vmove "usr/lib/python3*"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
