maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="serf"
version=1.3.9
revision=8
short_desc="High-performance asynchronous HTTP client library"
nocross="yes"
makedepends+=" apr-util-devel"
makedepends+=" gdbm-devel"
makedepends+=" libressl-devel"
makedepends+=" zlib-devel"
hostmakedepends+=" apr-util-devel"
hostmakedepends+=" libressl-devel"
homepage="http://serf.apache.org"
license="Apache-2.0"
distfiles="https://archive.apache.org/dist/serf/serf-$version.tar.bz2"
checksum="549c2d21c577a8a9c0450facb5cca809f26591f048e466552240947bdf7a87cc"
build_style="scons"
make_build_args="PREFIX=/usr"

do_install() {
  scons PREFIX="$DESTDIR/usr" install
}

serf-devel_package() {
  depends+=" apr-util-devel"
  depends+=" serf>=${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove usr/lib/pkgconfig
    vmove "usr/lib/*.so"
    vmove "usr/lib/*.a"
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
