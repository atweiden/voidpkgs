maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="perl-DBD-SQLite"
version=1.58
revision=4
short_desc="DBD::SQLite - Self-contained RDBMS in a DBI driver"
depends+=" perl"
depends+=" perl-DBI"
makedepends+=" $depends"
makedepends+=" sqlite-devel"
hostmakedepends="$depends"
homepage="https://metacpan.org/release/DBD-SQLite"
license="Artistic-1.0-Perl, GPL-1.0-or-later"
distfiles="$CPAN_SITE/DBD/${pkgname#*-}-$version.tar.gz"
checksum="7120dd99d0338dea2802fda8bfe3fbf10077d5af559f6c67ae35e9270d1a1d3b"
wrksrc="${pkgname#*-}-$version"
build_style="perl-module"
configure_args="SQLITE_LOCATION=$XBPS_CROSS_BASE/usr"

post_extract() {
  # unlock system sqlite support
  sed \
    -i \
    -e 's/^if ( 0 )/if ( 1 )/' \
    Makefile.PL
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
