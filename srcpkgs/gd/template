maintainer="nox"
pkgname="gd"
version=2.3.2
revision=1
short_desc="Graphics library for the dynamic creation of images"
makedepends+=" fontconfig-devel"
makedepends+=" libheif-devel"
makedepends+=" libjpeg-turbo-devel"
makedepends+=" libpng-devel"
makedepends+=" libwebp-devel"
makedepends+=" tiff-devel"
hostmakedepends="pkg-config"
homepage="http://www.libgd.org/"
license="custom:BSD-like"
distfiles="https://github.com/libgd/libgd/releases/download/$pkgname-$version/libgd-$version.tar.xz"
checksum="478a047084e0d89b83616e4c2cf3c9438175fb0cc55d8c8967f06e0427f7d7fb"
build_style="gnu-configure"
configure_args="--without-xpm"

post_install() {
  vlicense COPYING
}

gd-devel_package() {
  unset depends
  depends+=" $makedepends"
  depends+=" $sourcepkg-${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove "usr/lib/*.a"
    vmove "usr/lib/*.so"
    vmove usr/lib/pkgconfig
  }
}
gd-progs_package() {
  depends="perl"
  short_desc+=" - utilities"
  pkg_install() {
    vmove usr/bin
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
