maintainer="nox"
pkgname="NetAuth-sftpgo-hook"
version=0.1.0
revision=2
short_desc="External authorization hook for SFTPGo using NetAuth"
depends="sftpgo"
homepage="https://github.com/netauth/sftpgo-hook"
license="MIT"
distfiles="https://github.com/netauth/sftpgo-hook/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="8ec42f159d6b84fbc19cbc76f695de324384092c80d96e6a876c14da6aca110f"
wrksrc="sftpgo-hook-$version"
build_style="go"
go_import_path="github.com/netauth/sftpgo-hook"
go_ldflags="-buildid="

export GOFLAGS="-trimpath"

post_install() {
  vlicense LICENSE
  vmkdir usr/libexec/sftpgo
  mv "$DESTDIR/usr/bin/sftpgo-hook" "$DESTDIR/usr/libexec/sftpgo/netauth-hook"
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
