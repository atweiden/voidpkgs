maintainer="nox"
pkgname="systemtap"
version=4.5
revision=1
short_desc="Infrastructure to simplify the gathering of information"
archs+=" aarch64"
archs+=" armv6l"
archs+=" armv7l"
archs+=" i686"
archs+=" ppc64le"
archs+=" x86_64"
depends="python3"
makedepends="elfutils-devel"
hostmakedepends="python3"
homepage="https://sourceware.org/systemtap/"
license="GPL-3.0-or-later"
distfiles="https://sourceware.org/pub/systemtap/releases/$pkgname-$version.tar.gz"
checksum="75078ed37e0dd2a769c9d1f9394170b2d9f4d7daa425f43ca80c13bad6cfc925"
build_style="gnu-configure"
python_version=3

CFLAGS="-Wno-error"
CXXFLAGS="-Wno-error"

systemtap-devel_package() {
  depends="systemtap-${version}_$revision"
  short_desc+=" - development files"
  pkg_install() {
    vmove usr/include
    vmove usr/share/man/man3
  }
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
