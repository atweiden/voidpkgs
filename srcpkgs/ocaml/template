maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="ocaml"
version=4.07.1
revision=1
short_desc="A functional language with OO extensions"
makedepends="ncurses-devel"
homepage="http://ocaml.org/"
license="QPL-1.0, LGPL-2.1-only"
distfiles="https://github.com/$pkgname/$pkgname/archive/$version.tar.gz>$pkgname-$version.tar.gz"
checksum="83683ddad54bd23773591a9f757e702fa5cfa2ea1b124d8fe75a73729e592bfe"
nocross="yes"
disable_parallel_build="yes"

do_configure() {
  ./configure \
    -fPIC \
    -mandir /usr/share/man \
    -prefix /usr
}

do_build() {
  make "$makejobs" world.opt
}

do_install() {
  make \
    MANDIR="$DESTDIR/usr/share/man" \
    PREFIX="$DESTDIR/usr" \
    install
}

post_install() {
  vlicense LICENSE
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
