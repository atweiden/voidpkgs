maintainer="nox"
pkgname="rtx"
version=2023.9.1
revision=1
short_desc="Polyglot runtime manager (asdf rust clone)"
makedepends="openssl-devel"
hostmakedepends="pkg-config"
homepage="https://github.com/jdxcode/rtx"
license="MIT"
changelog="https://github.com/jdxcode/rtx/releases"
distfiles="https://github.com/jdxcode/rtx/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
checksum="6ca8d847db6cf74b428fc5f092536dade0fcc9af6008e2c657a1b4c77624e9a2"
build_style="cargo"
# skip cli tests: fail to find executable
make_check_args="-- --skip cli::direnv::exec::tests"

post_install() {
  vlicense LICENSE
  vman man/man1/rtx.1
  vdoc README.md
  vcompletion completions/rtx.bash bash rtx
  vcompletion completions/rtx.fish fish rtx
  vcompletion completions/_rtx zsh rtx
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
