maintainer="nox"
pkgname="zig"
version=0.5.0
revision=1
short_desc="Programming language designed for robustness, optimality, and clarity"
archs="x86_64*"
makedepends+=" libxml2-devel"
makedepends+=" ncurses-devel"
makedepends+=" zlib-devel"
hostmakedepends+=" clang"
hostmakedepends+=" llvm9"
homepage="https://ziglang.org/"
license="MIT"
distfiles="https://ziglang.org/download/$version/$pkgname-$version.tar.xz"
checksum="55ae16960f152bcb9cf98b4f8570902d0e559a141abf927f0d3555b7cc838a31"
build_style="cmake"
configure_args="-DZIG_STATIC=FALSE"
nopie="yes"
nocross="yes"

post_extract() {
  # don't install build artefacts
  vsed \
    -i \
    -e '/${ZIG_CPP_LIB_DIR}/d' \
    CMakeLists.txt
}

post_install() {
  vlicense LICENSE
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
