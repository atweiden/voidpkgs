maintainer="nox"
pkgname="ripgrep"
version=12.0.0
revision=1
short_desc="Fast search tool inspired by ag and grep"
makedepends="pcre2-devel"
hostmakedepends+=" asciidoc"
hostmakedepends+=" pkg-config"
homepage="https://github.com/BurntSushi/ripgrep/"
license="Unlicense, MIT"
distfiles="https://github.com/BurntSushi/ripgrep/archive/$version.tar.gz>$pkgname-$version.tar.gz"
checksum="3c84c3a4c80cee961a2b0d00a4e5d1bc9eb58ba587cf69c06d84aff72fedbeff"
build_style="cargo"
configure_args="--features=pcre2"

post_install() {
  vlicense LICENSE-MIT
  vlicense UNLICENSE
  vman rg.1
  cd "target/$RUST_TARGET/release/build"/ripgrep-*/out
  vinstall rg.bash 0644 usr/share/bash-completion/completions rg
  vinstall rg.fish 0644 usr/share/fish/completions
  vinstall complete/_rg 0644 usr/share/zsh/site-functions
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
