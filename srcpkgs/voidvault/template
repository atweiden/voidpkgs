maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="voidvault"
version=1.4.0
revision=1
short_desc="Bootstrap Void with FDE"
only_for_archs+=" i686"
only_for_archs+=" i686-musl"
only_for_archs+=" x86_64"
only_for_archs+=" x86_64-musl"
depends+=" btrfs-progs"
depends+=" coreutils"
depends+=" cryptsetup"
depends+=" dialog"
depends+=" dosfstools"
depends+=" e2fsprogs"
depends+=" efibootmgr"
depends+=" expect"
depends+=" gptfdisk"
depends+=" grub"
depends+=" kbd"
depends+=" kmod"
depends+=" libressl"
depends+=" procps-ng"
depends+=" tzdata"
depends+=" util-linux"
depends+=" xbps"
tags="perl6"
homepage="https://github.com/atweiden/voidvault"
license="Unlicense"
distfiles="https://github.com/atweiden/voidvault/releases/download/$version/$pkgname-$version.tar.gz"
checksum="54ba88156be04324527d404847a55f26d9cb88f9346b0fff6a6e15ffff45c75e"
build_style="perl6-dist"

do_check() {
  # disable tests
  :
}

post_install() {
  vlicense UNLICENSE
  vdoc INSTALL.md
  vdoc README.md
  vcopy doc "usr/share/doc/$pkgname"
  vcopy examples "usr/share/doc/$pkgname"
  vcopy man "usr/share/doc/$pkgname"
  vcopy resources "usr/share/doc/$pkgname"
  vcopy scripts "usr/share/doc/$pkgname"
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
