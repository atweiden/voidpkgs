maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="voidvault"
version=1.0.0
revision=1
short_desc="Bootstrap Void with FDE"
noarch="yes"
depends+=" btrfs-progs"
depends+=" coreutils"
depends+=" cryptsetup"
depends+=" dialog"
depends+=" dosfstools"
depends+=" e2fsprogs"
depends+=" efibootmgr"
depends+=" expect"
depends+=" glibc"
depends+=" gptfdisk"
depends+=" grub"
depends+=" kbd"
depends+=" kmod"
depends+=" libressl"
depends+=" procps-ng"
depends+=" tzdata"
depends+=" util-linux"
depends+=" xbps"
tags="perl6"
homepage="https://github.com/atweiden/voidvault"
license="Unlicense"
distfiles="https://github.com/atweiden/voidvault/releases/download/$version/$pkgname-$version.tar.gz"
checksum="946f08ca8e89b5c3f0b9410570dd833673ffbb875787b6a1791a4c91a0e7f8e1"
build_style="rakudo-perl6"

case "$XBPS_TARGET_MACHINE" in
  *-musl)
    broken="Only valid for glibc systems"
    ;;
  *)
    ;;
esac

do_check() {
  # disable tests
  :
}

post_install() {
  vlicense UNLICENSE
  vdoc INSTALL.md
  vdoc README.md
  vcopy doc "usr/share/doc/$pkgname"
  vcopy examples "usr/share/doc/$pkgname"
  vcopy man "usr/share/doc/$pkgname"
  vcopy resources "usr/share/doc/$pkgname"
  vcopy scripts "usr/share/doc/$pkgname"
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
