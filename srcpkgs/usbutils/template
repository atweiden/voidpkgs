maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="usbutils"
version=010
revision=1
short_desc="Linux USB utilities"
depends="hwids"
makedepends+=" eudev-libudev-devel"
makedepends+=" libusb-devel"
hostmakedepends="pkg-config"
homepage="http://linux-usb.sourceforge.net/"
license="GPL-2.0-only"
#changelog="https://raw.githubusercontent.com/gregkh/usbutils/master/NEWS"
distfiles="$KERNEL_SITE/utils/usb/usbutils/usbutils-$version.tar.xz"
checksum="61c7364bb4986fb05e5067e4ac5585b1299b664c57f761caecd2e9e724794a19"
build_style="gnu-configure"
configure_args+=" --datadir=/usr/share/hwdata"
configure_args+=" --disable-zlib"

post_install() {
  # remove lsusb.py - avoid useless python scripts
  rm -f "$DESTDIR/usr/bin/lsusb.py"
  # remove usb ids - provided by hwids
  rm -rf "$DESTDIR/usr/share/hwdata"
  # remove update-usbids.sh - handled by hwids
  rm -f "$DESTDIR/usr/sbin/update-usbids.sh"
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
