maintainer="nox"
pkgname="exa"
version=0.10.1
revision=4
short_desc="Modern replacement for ls"
makedepends="libgit2-devel"
hostmakedepends="pkg-config"
homepage="https://the.exa.website/"
license="MIT"
distfiles+=" https://github.com/ogham/exa/archive/v$version.tar.gz>$pkgname-$version.tar.gz"
distfiles+=" https://github.com/ogham/exa/releases/download/v$version/exa-accoutrements-v$version.zip"
checksum+=" 0ff0fa0bfc4edef8bdbbb3cabe6fdbd5481a71abbbcc2159f402dea515353ae7c"
checksum+=" 531596a1ef2a757c7728087529528150e6eb52bb8224fe575aa00a5f1b762849"
create_wrksrc="yes"
patch_args="-Np1 -d $build_wrksrc"
build_wrksrc="$pkgname-$version"
build_style="cargo"

post_extract() {
  mkdir "$build_wrksrc/accoutrements"
  mv man "$build_wrksrc/accoutrements/"
}

post_install() {
  vcompletion completions/completions.bash bash
  vcompletion completions/completions.fish fish
  vcompletion completions/completions.zsh zsh
  vlicense LICENCE
  vman accoutrements/man/exa.1
  vman accoutrements/man/exa_colors.5
}

# vim: set filetype=sh foldmethod=marker foldlevel=0 nowrap:
