maintainer="Andy Weidenbaum <archbaum@gmail.com>"
pkgname="cryfs"
version=0.9.9
revision=1
short_desc="Cryptographic filesystem for the cloud"
depends="fuse"
makedepends=""
makedepends+=" boost-devel"
makedepends+=" crypto++-devel"
makedepends+=" fuse-devel"
makedepends+=" libcurl-devel"
makedepends+=" libressl-devel"
hostmakedepends=""
hostmakedepends+=" git"
hostmakedepends+=" make"
hostmakedepends+=" python"
homepage="https://www.cryfs.org"
license="LGPL-3"
changelog="https://raw.githubusercontent.com/cryfs/cryfs/master/ChangeLog.txt"
distfiles="https://github.com/cryfs/cryfs/releases/download/$version/$pkgname-$version.tar.gz"
checksum="d328ca4379a70f07a3d178e618fe6d40de94db1006508a845ae467f555ecf9a6"
create_wrksrc="$pkgname-$version"
build_style="cmake"
configure_args=""
configure_args+=" -DCMAKE_INSTALL_PREFIX=/usr"
configure_args+=" -DCMAKE_BUILD_TYPE=Release"
configure_args+=" -DBUILD_TESTING=off"
configure_args+=" -DCRYFS_UPDATE_CHECKS=off"

case "$XBPS_TARGET_MACHINE" in
  *-musl) configure_args+=" -DLIBCXX_HAS_MUSL_LIBC=YES"
esac

# vim: set filetype=sh foldmethod=marker foldlevel=0:
